/* jshint globalstrict: true */
/* global Scope: false */
'use strict';

describe("Scope", function() {
  it("can be constructued and used as an object", function() {
    var scope = new Scope();
    scope.aProperty = 1;

    expect(scope.aProperty).toBe(1);
  });
  describe('digest', function() {
    var scope;
    
    beforeEach(function() {
      scope = new Scope();
    });

    it("calls the listener function of a wathc on the first $digest", function() {
      var watchFn = function() { return 'wat'; };
      var listenerFn = jasmine.createSpy();
      scope.$watch(watchFn, listenerFn);

      scope.$digest();

      expect(listenerFn).toHaveBeenCalled();
    });
  });
});

